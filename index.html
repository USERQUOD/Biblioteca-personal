<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>High School Salty Heart - Biblioteca</title>
    <style>
        body { background: #121212; color: white; font-family: sans-serif; margin: 0; text-align: center; }
        .contenedor { padding: 20px; max-width: 600px; margin: auto; }
        img.portada { width: 100%; max-width: 280px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        .sinopsis { background: #222; padding: 15px; border-radius: 8px; text-align: left; margin-bottom: 25px; font-size: 14px; line-height: 1.5; border-left: 4px solid #e50914; }
        
        /* Cuadrícula de botones automática */
        .grid-capitulos { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); 
            gap: 10px; 
            margin-top: 20px; 
        }
        .btn-cap { 
            background: #333; 
            color: white; 
            border: none; 
            padding: 12px; 
            cursor: pointer; 
            border-radius: 5px; 
            font-weight: bold; 
            font-size: 14px;
        }
        .btn-cap:hover { background: #e50914; }
        
        #visor-manga { display: none; background: black; width: 100%; }
        #visor-manga img { width: 100%; max-width: 800px; display: block; margin: 0 auto; }
        .nav-lector { padding: 15px; background: #111; position: sticky; top: 0; display: flex; justify-content: space-between; align-items: center; z-index: 100; }
        .btn-v { background: #444; color: white; padding: 8px 15px; text-decoration: none; border-radius: 5px; font-size: 14px; }
    </style>
</head>
<body>

    <div id="inicio" class="contenedor">
        <h1>High School Salty Heart</h1>
        <img src="portada.jpg" class="portada">
        <div class="sinopsis">
            <strong>Sinopsis:</strong><br>
            Cha Geonwu creyó haber dejado atrás su amor imposible por Lee Taejun, pero, después de regresar a la universidad, el destino lo empuja de nuevo hacia él.
        </div>

        <h3>Selecciona un Capítulo:</h3>
        <div class="grid-capitulos" id="lista-botones">
            </div>
    </div>

    <div id="visor-manga">
        <div class="nav-lector">
            <a href="#" class="btn-v" onclick="location.reload()">⬅️ VOLVER</a>
            <span id="titulo-cap" style="font-weight: bold; color: #e50914;"></span>
            <div style="width: 40px;"></div>
        </div>
        <div id="lista-imagenes"></div>
        <p style="padding: 40px; color: #444;">Fin del capítulo</p>
    </div>

    <script>
        // --- CONFIGURACIÓN ---
        const totalCapitulos = 2; // Aquí pon el número de capítulos que quieres que aparezcan
        // ---------------------

        const contenedorBotones = document.getElementById('lista-botones');

        // Crear los botones automáticamente
        for (let i = 1; i <= totalCapitulos; i++) {
            const boton = document.createElement('button');
            boton.className = 'btn-cap';
            boton.innerText = 'Cap ' + i;
            boton.onclick = () => abrirCapitulo(i);
            contenedorBotones.appendChild(boton);
        }

        function abrirCapitulo(num) {
            document.getElementById('inicio').style.display = 'none';
            document.getElementById('visor-manga').style.display = 'block';
            document.getElementById('titulo-cap').innerText = 'CAPÍTULO ' + num;
            
            const listaImg = document.getElementById('lista-imagenes');
            listaImg.innerHTML = ''; 
            // Carga hasta 500 fotos por carpeta
            for (let j = 1; j <= 500; j++) {
                const img = document.createElement('img');
                img.src = "cap-" + num + "/" + j + ".jpg";
                img.loading = "lazy";
                img.onerror = function() { this.style.display = 'none'; };
                listaImg.appendChild(img);
            }
            window.scrollTo(0,0);
        }
    </script>
</body>
</html>

