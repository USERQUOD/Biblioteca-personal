<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>High School Salty Heart - ZETA</title>
    <style>
        body { background: #121212; color: white; font-family: sans-serif; margin: 0; text-align: center; }
        .fondo-borroso {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('portada.jpg') no-repeat center center;
            background-size: cover; filter: blur(25px) brightness(0.2);
            z-index: -1;
        }
        .contenedor { padding: 40px 20px; max-width: 600px; margin: auto; position: relative; }
        img.portada { width: 100%; max-width: 280px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.8); }
        .sinopsis { 
            background: rgba(20, 20, 20, 0.85); padding: 20px; border-radius: 10px; 
            text-align: left; margin-bottom: 25px; border-left: 4px solid #e50914;
        }
        .grid-capitulos { display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; margin-top: 20px; }
        .btn-cap { background: #e50914; color: white; border: none; padding: 15px 25px; cursor: pointer; border-radius: 5px; font-weight: bold; font-size: 16px; min-width: 100px; transition: 0.3s; }
        .btn-cap:hover { background: #ff0a16; transform: scale(1.05); }
        
        /* Botón Telegram */
        .btn-telegram { 
            display: inline-block; background-color: #e50914; color: white; padding: 15px 10px; 
            text-decoration: none; font-weight: bold; border-radius: 8px; font-size: 16px; 
            box-shadow: 0 4px #8b0000; width: 90%; max-width: 320px; transition: 0.3s;
            box-sizing: border-box;
        }

        #visor-manga { display: none; background: black; width: 100%; position: absolute; top: 0; left: 0; z-index: 100; }
        #visor-manga img { width: 100%; max-width: 800px; display: block; margin: 0 auto; height: auto; }
        
        .controles-inferiores { padding: 50px 20px; background: #121212; display: flex; flex-direction: column; align-items: center; gap: 15px; }
        
        /* BOTONES DE NAVEGACIÓN ROJOS */
        .btn-nav { 
            background: #e50914; color: white; border: none; padding: 18px 30px; 
            font-size: 16px; font-weight: bold; border-radius: 8px; cursor: pointer; 
            width: 90%; max-width: 350px; transition: 0.3s; display: none; /* Se ocultan por defecto */
        }
        .btn-nav:hover { background: #ff0a16; }

        .btn-secundario { 
            background: #333; color: white; border: none; padding: 15px 20px; 
            border-radius: 8px; cursor: pointer; width: 90%; max-width: 350px; 
            font-weight: bold; font-size: 16px;
        }
    </style>
</head>
<body>

    <div class="fondo-borroso"></div>

    <div id="inicio" class="contenedor">
        <h1>High School Salty Heart</h1>
        <img src="portada.jpg" class="portada">
        
        <div class="sinopsis">
            <strong>Sinopsis:</strong><br>
            Cha Geonwu creyó haber dejado atrás su amor imposible por Lee Taejun, pero el destino lo empuja de nuevo hacia él. Se reaviva la llama y, en una situación desesperada, Geonwu termina compartiendo cama con el chico que juró olvidar.
        </div>

        <div style="margin-bottom: 30px;">
            <a href="https://t.me/TU_LINK_AQUI" class="btn-telegram">
                ZETA - GRUPO DE TELEGRAM 
            </a>
        </div>
        
        <h3 style="text-align: left;">Capítulos Publicados:</h3>
        <div id="grid-botones" class="grid-capitulos"></div>
    </div>

    <div id="visor-manga">
        <div id="lista-imagenes"></div>
        <div class="controles-inferiores">
            <button id="btn-sig" class="btn-nav"></button>
            <button id="btn-ant" class="btn-nav"></button>
            <button class="btn-secundario" onclick="window.location.reload()">VOLVER A LA LISTA</button>
        </div>
    </div>

    <script>
        var misCapitulos = ["1", "2", "3", "4", "5", "6"];
        var grid = document.getElementById('grid-botones');
        misCapitulos.forEach((cap, index) => {
            var btn = document.createElement('button');
            btn.className = 'btn-cap';
            btn.innerText = isNaN(cap) ? cap : "Cap " + cap;
            btn.onclick = function() { abrirCapitulo(index); };
            grid.appendChild(btn);
        });

        function abrirCapitulo(index) {
            var capCarpeta = misCapitulos[index]; 
            document.getElementById('inicio').style.display = 'none';
            document.getElementById('visor-manga').style.display = 'block';
            window.scrollTo(0,0);
            
            var visor = document.getElementById('lista-imagenes');
            visor.innerHTML = ''; 

            for (var j = 1; j <= 400; j++) {
                var img = document.createElement('img');
                img.src = "cap-" + capCarpeta + "/" + j + ".jpg";
                img.loading = "lazy";
                img.onerror = function() { this.remove(); };
                visor.appendChild(img);
            }

            var btnSig = document.getElementById('btn-sig');
            var btnAnt = document.getElementById('btn-ant');

            // Lógica SIGUIENTE
            if (index < misCapitulos.length - 1) {
                var sigNombre = misCapitulos[index + 1];
                btnSig.style.display = 'block';
                btnSig.innerText = 'SIGUIENTE: ' + (isNaN(sigNombre) ? sigNombre.toUpperCase() : 'CAP ' + sigNombre);
                btnSig.onclick = function() { abrirCapitulo(index + 1); };
            } else {
                btnSig.style.display = 'none';
            }

            // Lógica ANTERIOR (Solo aparece si NO es el primer capítulo)
            if (index > 0) {
                var antNombre = misCapitulos[index - 1];
                btnAnt.style.display = 'block';
                btnAnt.innerText = ' ANTERIOR: ' + (isNaN(antNombre) ? antNombre.toUpperCase() : 'CAP ' + antNombre);
                btnAnt.onclick = function() { abrirCapitulo(index - 1); };
            } else {
                btnAnt.style.display = 'none';
            }
        }
    </script>
</body>
</html>
